# Javascript 我想和你聊聊

## Talk.js是一个方便前端组件化的小lib
### Talk.js 的特性
1. 设计简单，通过DSL方式创建DOM，不引入脑裂的JSX（表示每次都思考语法该怎么写很痛苦的说）。
2. 性能超好，拒绝管理生命周期，拒绝内存膨胀。
3. 兼容性好，所有面相DOM的组件都能一起快乐的玩耍。
4. 代码量超少，实用主义者，不为了一点点好看，而把代码复杂化。

### Angular，React不是挺好的吗？
1. Angular、React生态下的组件无法和其他框架或者组件一起工作，如同吸血鬼
是的，你不得不承认JQuery之流的组件太眼馋人了，用了React、Angular你基本上就和JQuery组件说再见了，而且，比如你原来是Angular写的应用，想换成React ，不好意思，从头到尾重写一遍吧您。
2. 内存膨胀严重，性能低下
Angular双绑我就不说了，内存涨的嗖嗖的，还有很多bug，分析DOM引用其实是个吃屎的活。
React也是，各种虚拟DOM导致内存也是控制不住的增长，我想说，那么多DOM节点你有必要全放在内存里吗？
3. 过度设计，引入一种复杂的内容来解决另一种复杂的内容，原地打转
比如React必须引入不可变量概念才能控制好性能，然后又必须拦截shouldUpdate之类，学习成本太高，代码量减少的可怜，复杂组件深入dom特性的又很难做。
4. 屏蔽DOM细节，在开发中又不能不忽略DOM特性，导致思维脑裂。
很多问题都需要深入到dom的api上去解决，比如说改一下scrollTop啊什么的，很常见的需求。从设计角度呢，卧槽和虚拟DOM的设计完全违背好吧，人家react的设计就是要你把所有状态像PHP一样渲染出来的呢。
而且吧，降低了前端人员的素质，毕竟脱离了DOM的api嘛。

### Angular，React的优点
1. 性能
对比JQuery依赖查找器和缓存的性能来说，在内存中创建dom节点，或者扫描创建dom节点引用，后者这种性能真是完爆前者一百多倍的好吗！？
2. 开发模式
这俩货的开发模式很固定，API很稳定，大公司出品嘛，肯定是做工精良，体现工程化思想体现的非常彻底。
充分体现了MVC的开发模式，规范化了组件化开发流程，方便复用和代码结构化管理。
3. 提升了前端人员装逼的门槛
内容不当 此节已被网站管理人员屏蔽

### 为什么要做Talk.js？
1. 我想要的很简单，就是一个方便在JS里创建DOM的工具
2. 别屏蔽细节，less is more，别让我再想办法打开细节
3. 面向DOM，而不是面向框架或者数据，做好你的view层，这样我能很灵活的组织安排其他插件一起工作，我会很开心
4. 你别帮我渲染更新，其实我的数据没有那么复杂，我自己写DOM api渲染挺好的，不费劲儿其实，别让想办法怎么提高你的性能，我很忙
5. 就是javascript，不要任何Magic的东西，我有能力写出面向对象的代码
6. 性能！性能！性能！ 别跟我提计算机发展很快，事实上人们的欲望很快就能吞噬机器，性能就是我的钱，开发慢点我能接受，你别崩溃，你别让我性能跟不上影响我的KPI


### 代码示例

```javascript
var refs={} ;
var elm = talk.require('div','input','text',function(div,input,text){
return div().has(
     '请输入内容',
     input().is(refs,'ipt').on('input',function(){
         refs.text.nodeValue = refs.ipt.value;
     }),
     div().has(
         text('未输入').is(refs,'text')
     )
 )
}).elm;
document.body.appendChild(elm)
```